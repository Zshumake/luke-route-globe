<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåç Luke's Routes - Ultra Minimal</title>
    <script src="https://cesium.com/downloads/cesiumjs/releases/1.111/Build/Cesium/Cesium.js"></script>
    <link href="https://cesium.com/downloads/cesiumjs/releases/1.111/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <meta http-equiv="pragma" content="no-cache">
    <style>
        html, body, #cesiumContainer {
            width: 100%; height: 100%; margin: 0; padding: 0; overflow: hidden;
        }
        body { font-family: Arial, sans-serif; background: #000; }
        #status {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px;
            border-radius: 5px;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div id="status">Ultra minimal globe test - NO Ion assets...</div>
    <div id="cesiumContainer"></div>

    <script>
        console.log('üî• ULTRA MINIMAL TEST - NO CESIUM ION ASSETS');
        
        // CRITICAL: DO NOT set Ion token at all
        console.log('üî• Ion token NOT set intentionally');
        console.log('üî• This will force OpenStreetMap only');

        async function initializeUltraMinimalGlobe() {
            try {
                document.getElementById('status').textContent = 'Creating OpenStreetMap only...';
                console.log('üî• Creating OSM provider (no Ion, no Bing)...');
                
                // Use ONLY OpenStreetMap - no Ion, no Bing, no external assets
                const imageryProvider = new Cesium.OpenStreetMapImageryProvider({
                    url: 'https://tile.openstreetmap.org/',
                    maximumLevel: 18
                });
                
                console.log('üî• OSM provider created');
                document.getElementById('status').textContent = 'Creating ultra-minimal viewer...';
                
                // Most minimal Cesium configuration possible
                const viewer = new Cesium.Viewer('cesiumContainer', {
                    imageryProvider: imageryProvider,
                    // Disable EVERYTHING to avoid Ion asset calls
                    baseLayerPicker: false,
                    geocoder: false,
                    homeButton: false,
                    sceneModePicker: false,
                    navigationHelpButton: false,
                    animation: false,
                    timeline: false,
                    fullscreenButton: false,
                    vrButton: false,
                    selectionIndicator: false,
                    infoBox: false,
                    terrainProvider: null  // No terrain provider to avoid Ion calls
                });

                // Basic configuration
                viewer.scene.globe.enableLighting = false;
                viewer.scene.fog.enabled = false;
                
                console.log('üî• Ultra minimal viewer created!');
                document.getElementById('status').textContent = '‚úÖ Ultra minimal globe loaded!';
                
                // Set camera to London
                viewer.camera.setView({
                    destination: Cesium.Cartesian3.fromDegrees(-0.1276, 51.5074, 15000000)
                });

                // Hide status after 3 seconds
                setTimeout(() => {
                    document.getElementById('status').style.display = 'none';
                }, 3000);

            } catch (error) {
                console.error('‚ùå Ultra minimal globe failed:', error);
                document.getElementById('status').textContent = '‚ùå Error: ' + error.message;
                document.getElementById('status').style.background = 'rgba(255,0,0,0.8)';
            }
        }

        // Initialize when DOM is ready
        document.addEventListener('DOMContentLoaded', initializeUltraMinimalGlobe);
    </script>
</body>
</html>